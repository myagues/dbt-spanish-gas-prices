version: 2

models:
  - name: dim_stations
    columns:
      - name: station_id
        tests:
          - unique
          - not_null
      - name: name
      - name: address
      - name: town
      - name: zip_code
      - name: longitude
      - name: latitude
      - name: road_side
      - name: restriction
      - name: sender
      - name: schedule
      - name: municipality_id
        tests:
            - not_null
      - name: province_id
        tests:
            - not_null
      - name: region_id
        tests:
            - not_null

  - name: fct_prices
    columns:
      - name: station_id
        tests:
          - not_null
      - name: date
        tests:
          - not_null
      - name: price_id
        tests:
          - unique
          - not_null
      - name: petrol_95E5
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: petrol_95E5_premium
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: petrol_95E10
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: petrol_98E5
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: petrol_98E10
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: diesel_A
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: diesel_B
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: diesel_premium
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: bioetanol
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: biodiesel
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: lpg
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: cng
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: lng
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
      - name: hydrogen
        tests:
          - dbt_utils.expression_is_true:
              expression: '>= 0 or null'
